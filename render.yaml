# Use this Blueprint to deploy n8n on Render as a web
# service that uses a Postgres database to store
# workflow data.
#
# This Blueprint uses free instance types (specified by
# `plan`) for both the web service and the database. You
# can upgrade to paid instance types at any time to
# increase resources.

services:
    name: n8n-service
    image:
      # Pulls the n8n image tagged as latest from Docker Hub
      url: docker.io/n8nio/n8n:latest

    # All environment variables defined below are required!
    #
    # You can define additional environment variables as needed.
    envVars:
  - key: DB_TYPE
    value: postgres
  - key: DB_POSTGRESDB_HOST
    value: <dpg-cvl846fgi27c73dlbms0-a>.render.com
  - key: DB_POSTGRESDB_PORT
    value: 5432
  - key: DB_POSTGRESDB_DATABASE
    value: <n8n_free>
  - key: DB_POSTGRESDB_USER
    value: <n8n_free_user>
    - key: DB_POSTGRESDB_PASSWORD
    sync: false
  - key: GENERIC_TIMEZONE
    value: Europe/Berlin
databases:
  - name: n8n-db
    plan: free
    # The free instance type is limited to 1 GB of disk
    # space.
    #
    # If you later upgrade to a paid instance type, you can
    # increase the disk size to any multiple of 5 GB by
    # setting the `diskSizeGB` property.
    #
    # diskSizeGB: 5
